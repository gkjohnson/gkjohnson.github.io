<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    
    <title>Garrett Johnson</title>

    <!-- TODO: Host and bundle these locally -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <script type="text/javascript" src="./node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="./node_modules/@polymer/polymer/polymer-element.html"/>
    <link rel="import" href="./node_modules/@polymer/polymer/lib/elements/dom-repeat.html"/>

    <link rel="import" href="./elements/sticky-element.html"/>
    <link rel="import" href="./elements/markdown-element.html"/>
    <link rel="import" href="./elements/skills-element.html"/>
    <link rel="import" href="./elements/sliding-image.html">

    <link rel="stylesheet" type="text/css" href="./styles/index.css"/>
    <link rel="stylesheet" type="text/css" href="./styles/markdown-styles.css"/>
    <link rel="stylesheet" type="text/css" href="./styles/media.css"/>

    <script type="text/javascript">
        const updateTitlePos = () => {
            const el = document.querySelector('#title .center-container')
            const ratio = document.body.scrollTop / window.innerHeight

            const lerp = (a, b, r) => a + (b - a) * r
            const pos = lerp(50, 90, ratio)
            const opacity = lerp(1, 0, ratio)
            el.style = `top: ${pos}%; opacity: ${opacity}`
        }

        document.onreadystatechange = () => {
            if (document.readyState === 'interactive') {
                requestAnimationFrame(() => document.body.scrollTop = 0)
            }

            updateTitlePos()
        }

        window.addEventListener('scroll', () => updateTitlePos())

    </script>
</head>
<body>
    <div id="title">

        <div class="center-container">
            <div class="content">
                <div id="name">Garrett Johnson</div>
                <div id="email">garrett.kjohnson@gmail.com</div>
            </div>
        </div>

        <sticky-element>
            <div id="icons">
                <div class="buffer"></div>
                <a referrer="noopener noreferrerr" target="_blank" href="https://github.com/gkjohnson" title="Github">
                    <i class="fa fa-github"></i>
                </a>
                <a referrer="noopener noreferrerr" target="_blank" href="https://www.linkedin.com/in/garrett-kjohnson/" title="LinkedIn">
                    <i class="fa fa-linkedin"></i>
                </a>
                <a referrer="noopener noreferrerr" target="_blank" href="https://www.instagram.com/gkjohnso/" title="Instagram">
                    <i class="fa fa-instagram"></i>
                </a>
            </div>
        </sticky-element>
    </div>

    <div id="content">
        <div id="projects" class="markdown">
            <markdown-element href="../projects/about.md"></markdown-element>

            <h1>Professional Projects</h1>
            <markdown-element href="../projects/protospace.md"></markdown-element>
            <markdown-element href="../projects/ime.md"></markdown-element>
            <markdown-element href="../projects/sidekick.md"></markdown-element>
            <markdown-element href="../projects/hrs.md"></markdown-element>
            <markdown-element href="../projects/sequencing.md"></markdown-element>
            
            <!-- <markdown-element href="../projects/graphics.md"></markdown-element> -->
        </div>
        <div id="space">
            <div id="copyright">Garrett Johnson &copy; 2017</div>
        </div>
    </div>
</body>
</html>
